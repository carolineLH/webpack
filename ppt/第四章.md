## 1.构建配置包设计

- 构建配置抽离成 npm 包的意义：

```js
通用性：
  业务开发者无需关注构建配置
  统一团队构建脚本

可维护性
  构建配置合理的拆分
  README文档、ChangeLog文档等

质量
  冒烟测试、单元测试、测试覆盖率
  持续集成
```

- 构建配置管理的可选方案：

```js
通过多个配置文件管理不同环境的构建，webpack --config 参数进行控制

将构建配置设计成一个库，比如： hjs-webpack、Neutrino、webpack-blocks

抽成一个工具进行管理，比如： create-react-app,kyt,nwb

将所有的配置放在一个文件，通过--env参数控制分支选择

```

## 2.功能模块设计和目录结构
* 根据构建包的功能设计来设计目录结构
* 构建包功能设计：
```js
基础配置：WEBPACK_BASE_JS: 
  资源解析（解析ES6、解析React、解析CSS、解析Less、解析图片、解析字体）
  样式增强（CSS前缀补齐、CSS px转换成rem）
  目录清理
  多页面打包
  命令行信息显示优化
  错误捕获和处理
  CSS提取成一个单独的文件

开发阶段配置：WEBPACK_DEV.JS:
  代码热更新（CSS热更新、JS热更新）
  sourceMap

生产阶段配置：WEBPACK_PROD.JS:
  代码压缩
  文件指纹
  Tree Shaking
  Scope Hoisting
  速度优化（基础包CDN）
  体积优化（代码分割）
  
SSR配置：WEBPACK.SSR.js:
  output 的 libraryTarget设置
  CSS解析ignore
```